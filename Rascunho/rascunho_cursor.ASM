TITLE TELAFUNDO
.MODEL SMALL
.STACK 100h
.DATA
	QUAD 		DB 	"         1   2   3   4   5   6                  1   2   3   4   5   6","$" ;CX=69
	QUAD1 		DB 	218,196,196,196,194,196,196,196,194,196,196,196,194,196,196,196,194,196,196,196,194,196,196,196,191,"              ",218,196,196,196,194,196,196,196,194,196,196,196,194,196,196,196,194,196,196,196,194,196,196,196,191,"$"; CX=70
	QUAD2A 		DB 	"     A $"; CX=7
	QUAD2B 		DB 	"     B $"; CX=7
	QUAD2C 		DB 	"     C $"; CX=7
	QUAD2D  	DB 	"     D $"; CX=7
	QUAD2E  	DB 	"     E $"; CX=7
	QUAD2F  	DB 	"     F $"; CX=7
	BARRA		DB	179,36
	QUAD2A2 	DB	"            A $" ; CX=14
	QUAD2B2 	DB	"            B $"; CX=14
	QUAD2C2 	DB	"            C $"; CX=14
	QUAD2D2 	DB	"            D $"; CX=14
	QUAD2E2 	DB	"            E $"; CX=14
	QUAD2F2 	DB	"            F $"; CX=14
	QUADV 		DB 	20h,20h,20h,"$"; CX=3
	QUADC 		DB 	176,176,176,"$"; CX=3
	QUADA 		DB 	219,219,219,"$"; CX=3
	QUAD3  		DB 	195,196,196,196,197,196,196,196,197,196,196,196,197,196,196,196,197,196,196,196,197,196,196,196,180,"$"; CX=24
	QUAD4 		DB 	192,196,196,196,193,196,196,196,193,196,196,196,193,196,196,196,193,196,196,196,193,196,196,196,217,"              ",192,196,196,196,193,196,196,196,193,196,196,196,193,196,196,196,193,196,196,196,193,196,196,196,217,"$"; CX=70
	COUNT 		DB 	?
	CONT		DW	?
	CONTADOR 	DB 	?
	MSG DB "Valor decimal armazenado no registrador: $"

.CODE

HORIZONTAL PROC
INC DH
MOV AH, 13h
MOV BP, OFFSET QUAD3
MOV BH, 5
MOV BL, 67
MOV CX, 25
MOV DL, 7
INT 10h

MOV AH, 13h
MOV BP, OFFSET QUAD3
MOV BH, 5
MOV BL, 67
MOV CX, 25
MOV DL, 46
INT 10h

RET
HORIZONTAL ENDP

;#####################################

EXQUAD PROC
MOV AH,0
MOV AL,3
INT 10h

MOV AH, 5 ; Selecionar página ativa
MOV AL, 5 ; Nº da página (0-7 PARA MODO 3)
MOV DX, 184Fh
INT 10h

MOV AH, 6 ;Função scroll up (cls)
XOR AL, AL
MOV BH, 1Eh
XOR CX, CX     ;Superior esquerdo CH=linha, CL=coluna
MOV DL, 80  ;Inferior direito DH=linha, DL=coluna
MOV DH, 25
INT 10h

MOV AH, 13h ;Numeros
MOV BP, OFFSET QUAD
MOV BH, 5
MOV BL, 1Eh ;COR
MOV CX, 69
MOV DL, 0
MOV DH, 5
INT 10h

INC DH
MOV AH, 13h
MOV BP, OFFSET QUAD1
MOV BH, 5
MOV BL, 67;COR
MOV CX, 25
MOV DL, 7
INT 10h

MOV AH, 13h
MOV BP, OFFSET QUAD1
MOV BH, 5
MOV BL, 67;COR
MOV CX, 25
MOV DL, 46
INT 10h

MOV AH, 13h ;Espaço vazio A
MOV BP, OFFSET QUAD2A
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 7
MOV DL, 0
INC DH
INT 10h

MOV DL, 7
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR1:
MOV AH, 13h
MOV BP, OFFSET QUADA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR1

MOV AH, 13h ;Espaço vazio A2
MOV BP, OFFSET QUAD2A2
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 14
MOV DL, 32
INT 10h

ADD DL, 14
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR2:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR2

CALL HORIZONTAL

MOV AH, 13h ;Espaço vazio B
MOV BP, OFFSET QUAD2B
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 7
MOV DL, 0
INC DH
INT 10h

MOV DL, 7
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR3:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR3

MOV AH, 13h ;Espaço vazio B2
MOV BP, OFFSET QUAD2B2
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 14
MOV DL, 32
INT 10h

ADD DL, 14
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR4:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR4

CALL HORIZONTAL

MOV AH, 13h ;Espaço vazio C
MOV BP, OFFSET QUAD2C
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 7
MOV DL, 0
INC DH
INT 10h

MOV DL, 7
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR5:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR5

MOV AH, 13h ;Espaço vazio C2
MOV BP, OFFSET QUAD2C2
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 14
MOV DL, 32
INT 10h

ADD DL, 14
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR6:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR6

CALL HORIZONTAL

MOV AH, 13h ;Espaço vazio D
MOV BP, OFFSET QUAD2D
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 7
MOV DL, 0
INC DH
INT 10h

MOV DL, 7
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR7:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR7

MOV AH, 13h ;Espaço vazio D2
MOV BP, OFFSET QUAD2D2
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 14
MOV DL, 32
INT 10h

ADD DL, 14
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR8:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR8

CALL HORIZONTAL

MOV AH, 13h ;Espaço vazio E
MOV BP, OFFSET QUAD2E
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 7
MOV DL, 0
INC DH
INT 10h

MOV DL, 7
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR9:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR9

MOV AH, 13h ;Espaço vazio E2
MOV BP, OFFSET QUAD2E2
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 14
MOV DL, 32
INT 10h

ADD DL, 14
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR10:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR10

CALL HORIZONTAL

MOV AH, 13h ;Espaço vazio F
MOV BP, OFFSET QUAD2F
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 7
MOV DL, 0
INC DH
INT 10h

MOV DL, 7
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR11:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR11

MOV AH, 13h ;Espaço vazio F2
MOV BP, OFFSET QUAD2F2
MOV BH, 5
MOV BL, 1EH;COR
MOV CX, 14
MOV DL, 32
INT 10h

ADD DL, 14
MOV COUNT, 6

MOV AH, 13h
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
MOSTRAR12:
MOV AH, 13h
MOV BP, OFFSET QUADV
MOV BH, 5
MOV BL, 67;COR
MOV CX, 3
INT 10h
ADD DL, 3
MOV BP, OFFSET BARRA
MOV BH, 5
MOV BL, 67;COR
MOV CX, 1
INT 10h
INC DL
DEC COUNT
JNZ MOSTRAR12

INC DH
MOV AH, 13h
MOV BP, OFFSET QUAD4
MOV BH, 5
MOV BL, 67;COR
MOV CX, 25
MOV DL, 7
INT 10h

MOV AH, 13h
MOV BP, OFFSET QUAD4
MOV BH, 5
MOV BL, 67;COR
MOV CX, 25
MOV DL, 46
INT 10h

RET
EXQUAD ENDP

SUBTRACAO PROC
XOR CX,CX
XOR DX,DX
DIVISAO:
MOV CONTADOR,0
JMP PRIMEIRA

MAIS:
MOV BX,CX
MOV CX,0

PRIMEIRA:
CMP BX,10 ;Bx resto
JB CONTINUA

SUB BX,10 ;Bx= 17458	Ax=10

INC CX ;CX Quociente

JMP PRIMEIRA

CONTINUA:
PUSH BX

INC CONTADOR

CMP CX,0
JNE MAIS

MOV AH,9
LEA DX,MSG
INT 21H

EXIBIR:
MOV AH,2
POP DX
ADD DL,48
INT 21H

DEC CONTADOR
JNZ EXIBIR

RET
SUBTRACAO ENDP

MAIN PROC
MOV AX,@DATA
MOV DS,AX
MOV ES,AX

CALL EXQUAD

MOV AX,1
INT 33h
LERR:
MOV AX,3
INT 33h
CMP BX,1
JNZ LERR
ADD CX,DX
MOV BX,CX


CALL SUBTRACAO
;MOV BX,DX
;MOV AH,2
;MOV DL,CH
;INT 21h
;MOV DL,CL
;INT 21h
;MOV DL,BH
;INT 21h
;MOV DL,BL
;INT 21h

MOV AH, 13h
MOV BP, OFFSET QUADC
MOV BH, 5
MOV BL, 15H;COR
MOV CX, 3
MOV DH, 7
MOV DL, 8
INT 10h

MOV AH,4Ch
INT 21h
MAIN ENDP

END MAIN